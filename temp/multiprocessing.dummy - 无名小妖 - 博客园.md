# multiprocessing.dummy - 无名小妖 - 博客园
        multiprocessing.dummy - 无名小妖 - 博客园           

*    [![](https://common.cnblogs.com/logo.svg)](https://www.cnblogs.com/ "开发者的网上家园") 
*   [首页](/)
*   [新闻](https://news.cnblogs.com/)
*   [博问](https://q.cnblogs.com/)
*   [专区](https://brands.cnblogs.com/)
*   [闪存](https://ing.cnblogs.com/)
*   [班级](https://edu.cnblogs.com/)

*    ![](https://common.cnblogs.com/images/blog/search.svg) 
    
*    [![](https://common.cnblogs.com/images/blog/newpost.svg)](https://i.cnblogs.com/EditPosts.aspx?opt=1 "写随笔") [ ![](https://common.cnblogs.com/images/blog/myblog.svg)
     ](https://passport.cnblogs.com/GetBlogApplyStatus.aspx "我的博客") [ ![](https://common.cnblogs.com/images/blog/message.svg)
      ](https://msg.cnblogs.com/ "短消息") [![](https://common.cnblogs.com/images/blog/lite-mode-on.svg)](javascript:void(0) "简洁模式启用，您在访问他人博客时会使用简洁款皮肤展示") 
    
     [![](https://common.cnblogs.com/images/blog/avatar-default.svg)](https://home.cnblogs.com/) 
    
    [我的博客](https://passport.cnblogs.com/GetBlogApplyStatus.aspx) [我的园子](https://home.cnblogs.com/) [账号设置](https://account.cnblogs.com/settings/account) [简洁模式 ![](https://www.cnblogs.com/images/lite-mode-check.svg)
    ... ](javascript:void(0) "简洁模式会使用简洁款皮肤显示所有博客") [退出登录](javascript:void(0))
    
    [注册](https://account.cnblogs.com/signup) [登录](javascript:void(0);)

|   |   
  
  
  
  
  
  

[无名小妖](https://www.cnblogs.com/wumingxiaoyao/)  
  


 |   |
|   | 
| 

昵称： [无名小妖](https://home.cnblogs.com/u/wumingxiaoyao/)  
园龄： [6年1个月](https://home.cnblogs.com/u/wumingxiaoyao/ "入园时间：2016-07-22")  
粉丝： [155](https://home.cnblogs.com/u/wumingxiaoyao/followers/)  
关注： [1](https://home.cnblogs.com/u/wumingxiaoyao/followees/)

[+加关注](javascript:void(0))

### 搜索

 

 

### 常用链接

*   [我的随笔](https://www.cnblogs.com/wumingxiaoyao/p/ "我的博客的随笔列表")
*   [我的评论](https://www.cnblogs.com/wumingxiaoyao/MyComments.html "我的发表过的评论列表")
*   [我的参与](https://www.cnblogs.com/wumingxiaoyao/OtherPosts.html "我评论过的随笔列表")
*   [最新评论](https://www.cnblogs.com/wumingxiaoyao/comments "我的博客的评论列表")
*   [我的标签](https://www.cnblogs.com/wumingxiaoyao/tag/ "我的博客的标签列表")

### 我的标签

*   [python3(1)](https://www.cnblogs.com/wumingxiaoyao/tag/python3/)
*   [Python(1)](https://www.cnblogs.com/wumingxiaoyao/tag/Python/)

[随笔分类](https://www.cnblogs.com/wumingxiaoyao/categories)
========================================================

*   [git(1)](https://www.cnblogs.com/wumingxiaoyao/category/1168690.html)
*   [python3(201)](https://www.cnblogs.com/wumingxiaoyao/category/862281.html)
*   [zabbix(10)](https://www.cnblogs.com/wumingxiaoyao/category/1061111.html)
*   [爬虫(2)](https://www.cnblogs.com/wumingxiaoyao/category/1174031.html)
*   [前端(7)](https://www.cnblogs.com/wumingxiaoyao/category/1134845.html)
*   [设计模式(2)](https://www.cnblogs.com/wumingxiaoyao/category/1168081.html)
*   [数据可视化(6)](https://www.cnblogs.com/wumingxiaoyao/category/1179726.html)
*   [算法(12)](https://www.cnblogs.com/wumingxiaoyao/category/1160273.html)

随笔档案
====

*   [2018年4月(1)](https://www.cnblogs.com/wumingxiaoyao/archive/2018/04.html)
*   [2018年3月(18)](https://www.cnblogs.com/wumingxiaoyao/archive/2018/03.html)
*   [2018年2月(20)](https://www.cnblogs.com/wumingxiaoyao/archive/2018/02.html)
*   [2018年1月(20)](https://www.cnblogs.com/wumingxiaoyao/archive/2018/01.html)
*   [2017年12月(2)](https://www.cnblogs.com/wumingxiaoyao/archive/2017/12.html)
*   [2017年11月(1)](https://www.cnblogs.com/wumingxiaoyao/archive/2017/11.html)
*   [2017年9月(14)](https://www.cnblogs.com/wumingxiaoyao/archive/2017/09.html)
*   [2017年8月(6)](https://www.cnblogs.com/wumingxiaoyao/archive/2017/08.html)
*   [2017年7月(7)](https://www.cnblogs.com/wumingxiaoyao/archive/2017/07.html)
*   [2017年6月(58)](https://www.cnblogs.com/wumingxiaoyao/archive/2017/06.html)
*   [2017年5月(1)](https://www.cnblogs.com/wumingxiaoyao/archive/2017/05.html)
*   [2017年4月(15)](https://www.cnblogs.com/wumingxiaoyao/archive/2017/04.html)
*   [2017年3月(28)](https://www.cnblogs.com/wumingxiaoyao/archive/2017/03.html)
*   [2017年2月(8)](https://www.cnblogs.com/wumingxiaoyao/archive/2017/02.html)
*   [2016年12月(6)](https://www.cnblogs.com/wumingxiaoyao/archive/2016/12.html)
*   [2016年11月(6)](https://www.cnblogs.com/wumingxiaoyao/archive/2016/11.html)
*   [2016年10月(6)](https://www.cnblogs.com/wumingxiaoyao/archive/2016/10.html)
*   [2016年9月(1)](https://www.cnblogs.com/wumingxiaoyao/archive/2016/09.html)
*   [2016年8月(11)](https://www.cnblogs.com/wumingxiaoyao/archive/2016/08.html)
*   [2016年7月(3)](https://www.cnblogs.com/wumingxiaoyao/archive/2016/07.html)

### [阅读排行榜](https://www.cnblogs.com/wumingxiaoyao/most-viewed)

*   [1\. python socket编程详细介绍(138757)](https://www.cnblogs.com/wumingxiaoyao/p/7047658.html)
*   [2\. Django admin 一些有用的设置(90487)](https://www.cnblogs.com/wumingxiaoyao/p/6928297.html)
*   [3\. scrapy爬虫框架入门实例（一）(56967)](https://www.cnblogs.com/wumingxiaoyao/p/6183101.html)
*   [4\. 如何使用Python快速制作可视化报表----pyecharts(34969)](https://www.cnblogs.com/wumingxiaoyao/p/8508077.html)
*   [5\. Python代码教你批量将PDF转为Word(31929)](https://www.cnblogs.com/wumingxiaoyao/p/8460973.html)

### [评论排行榜](https://www.cnblogs.com/wumingxiaoyao/most-commented)

*   [1\. Django admin 一些有用的设置(31)](https://www.cnblogs.com/wumingxiaoyao/p/6928297.html)
*   [2\. Django xadmin的使用 （二）(9)](https://www.cnblogs.com/wumingxiaoyao/p/6945769.html)
*   [3\. 如何用 为知笔记 发布 博客(5)](https://www.cnblogs.com/wumingxiaoyao/p/5810634.html)
*   [4\. Django中使用Celery实现定时任务(用djcelery)(4)](https://www.cnblogs.com/wumingxiaoyao/p/8521567.html)
*   [5\. Python代码教你批量将PDF转为Word(4)](https://www.cnblogs.com/wumingxiaoyao/p/8460973.html)

### [推荐排行榜](https://www.cnblogs.com/wumingxiaoyao/most-liked)

*   [1\. Django admin 一些有用的设置(22)](https://www.cnblogs.com/wumingxiaoyao/p/6928297.html)
*   [2\. python socket编程详细介绍(16)](https://www.cnblogs.com/wumingxiaoyao/p/7047658.html)
*   [3\. Django 数据聚合函数 annotate(5)](https://www.cnblogs.com/wumingxiaoyao/p/7065471.html)
*   [4\. django 使用多个数据库(4)](https://www.cnblogs.com/wumingxiaoyao/p/8610791.html)
*   [5\. zabbix实现原理及架构详解(3)](https://www.cnblogs.com/wumingxiaoyao/p/7388870.html)

### [最新评论](https://www.cnblogs.com/wumingxiaoyao/comments)

*   [1\. Re:Django admin 一些有用的设置](https://www.cnblogs.com/wumingxiaoyao/p/6928297.html)
*   博主 能不能参考一下你的源码
    
*   \--邓聪聪
*   [2\. Re:python socket编程详细介绍](https://www.cnblogs.com/wumingxiaoyao/p/7047658.html)
*   ####谢谢整理
    
*   \--Michael5593
*   [3\. Re:Pycharm远程连接服务器（windows下远程修改服务器代码）](https://www.cnblogs.com/wumingxiaoyao/p/8513223.html)
*   跟没讲一样
    
*   \--小新分身
*   [4\. Re:Python代码教你批量将PDF转为Word](https://www.cnblogs.com/wumingxiaoyao/p/8460973.html)
*   经验证，效果并不好，pdf中的表格和图片都不能得到很好的处理
    
*   \--追梦的蒲公英
*   [5\. Re:Django中使用Celery实现定时任务(用djcelery)](https://www.cnblogs.com/wumingxiaoyao/p/8521567.html)
*   写得赞，但主要还是celery太难了。 此国产分布式函数调度框架 ，从用法调用难度，用户所需代码量，超高并发性能，qps控频精确程度，支持的中间件类型，任务控制方式，稳定程度等19个方面全方位超过ce...
*   \--北风之神0509

  

Powered by [博客园](http://www.cnblogs.com)

 | | 
| 

[博客园](https://www.cnblogs.com/) | [首页](https://www.cnblogs.com/wumingxiaoyao/) | [新随笔](https://i.cnblogs.com/EditPosts.aspx?opt=1) | [联系](https://msg.cnblogs.com/send/%E6%97%A0%E5%90%8D%E5%B0%8F%E5%A6%96) | [订阅](javascript:void(0)) [![](https://www.cnblogs.com/skins/autumn/images/xml.gif)
 ](https://www.cnblogs.com/wumingxiaoyao/rss/) | [ 管理](https://i.cnblogs.com/)

[multiprocessing.dummy](https://www.cnblogs.com/wumingxiaoyao/p/7047858.html)
=============================================================================

昨晚发现放在腾讯云主机上通过crontab定时执行用以爬去斗鱼分类页面数据的爬虫在执行的时候速度特别慢，于是想通过多线程来提高效率。

打开浏览器，键入关键字“python 多线程”，发现大多数内容都是使用threading、Queue这些看起来很笨重的实例。不过直到multiprocessing.dummy出现在眼前之后，一切都变得辣么简单。

**multiprocessing.dummy 大杀器**

multiprocessing.dummy 是multiprocessing的一个子库，二者的不同之处就是前者应用于线程后者主要应用于进程，而它们实现并行化操作的关键则是map函数。

以我的两段代码为例：

![](https://images2015.cnblogs.com/blog/996586/201706/996586-20170619111258460-959899802.png)

上边这段是之前运行在云主机速度真的跟爬似的代码，通过Directory\_url这个地址，获取到页面中所有的标签，并获取到它们的’href’，再逐条获取每个链接中的内容，获取想要的东西，最终完成入库工作。所有的一切都看似按部就班哈。在我的笔记本上做测试，完成所有2032条数据的爬取共耗时140.5s(好特么慢=。=)。

但是在加入multiprocessing.dummy之后，真的是有飞一般的感觉：

![](8ddd9514-672a-4e78-92fb-62b49e28101b_files/e004c962-25dc-41c8-b8ff-ee7fa585e38f.png)

同样通过Directory\_url这一地址获取页面中所有标签，然后通过pool.map(g, gameurl)完成’href’值的获取，最后再用一次pool.map(ginfo,gamedata)完成所有页面内容的提取和入库。再一次测试，只需要33.1s即可完成。

所以说，如果你的爬虫也要处理类似的过程，不妨尝试一下multiprocessing。

  

  
  

[null](http://www.wiz.cn/i/698a455c "null")

  
  

分类: [python3](https://www.cnblogs.com/wumingxiaoyao/category/862281.html)

[好文要顶](javascript:void(0);) [关注我](javascript:void(0);) [收藏该文](javascript:void(0);) [![](https://common.cnblogs.com/images/icon_weibo_24.png)
](javascript:void(0); "分享至新浪微博") [![](https://common.cnblogs.com/images/wechat.png)
](javascript:void(0); "分享至微信")

[![](https://pic.cnblogs.com/face/996586/20170420105428.png)
](https://home.cnblogs.com/u/wumingxiaoyao/)

[无名小妖](https://home.cnblogs.com/u/wumingxiaoyao/)  
[粉丝 - 155](https://home.cnblogs.com/u/wumingxiaoyao/followers/) [关注 - 1](https://home.cnblogs.com/u/wumingxiaoyao/followees/)  

[+加关注](javascript:void(0);)

1

0

[«](https://www.cnblogs.com/wumingxiaoyao/p/7047853.html) 上一篇： [多线程小例子](https://www.cnblogs.com/wumingxiaoyao/p/7047853.html "发布于 2017-06-19 11:12")  
[»](https://www.cnblogs.com/wumingxiaoyao/p/7047862.html) 下一篇： [subprocess in python3.5](https://www.cnblogs.com/wumingxiaoyao/p/7047862.html "发布于 2017-06-19 11:15")

发表于 2017-06-19 11:13  [无名小妖](https://www.cnblogs.com/wumingxiaoyao/)  阅读(3289)  评论(0)  [编辑](https://i.cnblogs.com/EditPosts.aspx?postid=7047858)  [收藏](javascript:void(0))  [举报](javascript:void(0))

[刷新评论](javascript:void(0);)[刷新页面](#)[返回顶部](#top)

登录后才能查看或发表评论，立即 [登录](javascript:void(0);) 或者 [逛逛](https://www.cnblogs.com/) 博客园首页

[【推荐】百度地图新客尝鲜限时特惠，20多种服务等你来选](https://lbsyun.baidu.com/promotion/specialoffer#/home?source=2)  
[【推荐】下一步，敏捷！云可达科技SpecDD敏捷开发专区](https://brands.cnblogs.com/specdd)  
[【推荐】腾讯云多款云产品1折起，买云服务器送免费机器](https://curl.qcloud.com/k19RDMHo)  
[【推荐】天翼云新客特惠，云主机1核2G低至33.43元/年](https://click.ctyun.cn?track=source_bokeyuan-medium_cps-content_se430382)  

**编辑推荐：**   
· [新时代布局新特性 -- 容器查询](https://www.cnblogs.com/coco1s/p/16692057.html)  
· [EntityFrameworkCore 模型自动更新（下）](https://www.cnblogs.com/CreateMyself/p/16671274.html)  
· [让泛型的思维扎根在脑海——深刻理解泛型](https://www.cnblogs.com/green-jcx/p/16671687.html)  
· [高阶 CSS 技巧在复杂动效中的应用](https://www.cnblogs.com/coco1s/p/16672819.html)  
· [使用 MAUI 在 Windows 和 Linux 上绘制 PPT 的图表](https://www.cnblogs.com/lindexi/p/16671495.html)  

**最新新闻**：  
· [纳斯达克史诗级崩盘，科技股泡沫破裂还是周期终结？](//news.cnblogs.com/n/728307/)  
· [奈雪的“无奈”：卖茶“最贵”，亏钱最多？](//news.cnblogs.com/n/728306/)  
· [通关率不足0.1%，营销套路满满，霸榜热搜的“羊了个羊”还能火多久？](//news.cnblogs.com/n/728305/)  
· [腾讯音乐回归港股：将以介绍形式于9月21日挂牌交易](//news.cnblogs.com/n/728304/)  
· [“中国SaaS赴美第一股”暴跌之谜](//news.cnblogs.com/n/728303/)  
» [更多新闻...](https://news.cnblogs.com/ "IT 新闻")



 | |